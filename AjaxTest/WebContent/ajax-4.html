<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<!-- jqery sdk 로드 -->
<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script>
	$(document).ready(function(){
		$('#uid').focusin(function(){
			//$('#msg').html('사용할 수 있는 아이디 입니다.');
			$('#msg').addClass('display_none');
			$('#msg').removeClass('color_blue');
			$('#msg').removeClass('color_red');			
		});
		
		$('#uid').focusout(function(){
			$.ajax({
				url : 'idcheck.jsp',
				type : 'post',
				data : {
							uid: $('#uid').val()
						},
				beforeSend : function(){
					$('#LoddingImg').removeClass('display_none');
				},
				success : function(data){
					
					if(data == 'Y'){
						$('#msg').html('사용할 수 있는 아이디 입니다.');
						$('#msg').removeClass('display_none');
						$('#msg').addClass('color_blue');
					}else{
						
						$('#msg').html('사용할 수 없는 아이디 입니다.');
						$('#msg').removeClass('display_none');
						$('#msg').addClass('color_red');					
					};
					
				},
				error : function(request, status, error){
					alert(request + ',' + status+ ',' +error);
					
				},
				complete : function(){
					//setTimeout(function(){
						$('#LoddingImg').addClass('display_none');
					//}, 3000);
				
				}
				 
				
			});
					
		});
		
		$('#idChkBtn').click(function(){
			$.ajax({
				url : 'idcheck.jsp',
				type : 'post',
				data : {
							uid: $('#uid').val()
						},
				beforeSend : function(){
					$('#LoddingImg').removeClass('display_none');
				},
				success : function(data){
					
					if(data == 'Y'){
						$('#msg').html('사용할 수 있는 아이디 입니다.');
						$('#msg').removeClass('display_none');
						$('#msg').addClass('color_blue');
					}else{
						
						$('#msg').html('사용할 수 없는 아이디 입니다.');
						$('#msg').removeClass('display_none');
						$('#msg').addClass('color_red');					
					};
					
				},
				error : function(request, status, error){
					alert(request + ',' + status+ ',' +error);
					
				},
				complete : function(){
					//setTimeout(function(){
						$('#LoddingImg').addClass('display_none');
					//}, 3000);
				
				}
				 
				
			});
			
			
			
		});
		


		
	});
</script>
<style type="text/css">
	.display_none {
		display:none;
	}

	.display_block {
		display:block;
	}
	
	.color_red {
		color : red;
	}
	
	.color_blue {
		color : blue;
	}	



</style>
</head>
<body>
	id : <input type="text" id="uid"><input type="button" id="idChkBtn" value="아이디 체크">
	<div id="msg" class="display_none"></div><br>
	<img id="LoddingImg" class="display_none" alt="Lodding" src="loading.gif">
</body>
</html>